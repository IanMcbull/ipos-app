(function(){"use strict";var t={4601:function(t,e,n){var s=n(144),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("transition",{staticClass:"slide",attrs:{mode:"out-in"}},[n("v-main",[n("router-view")],1)],1)],1)},r=[],a={name:"App",data:()=>({})},i=a,l=n(1001),u=n(3453),c=n.n(u),d=n(7524),p=n(7877),m=(0,l.Z)(i,o,r,!1,null,"1043e088",null),f=m.exports;c()(m,{VApp:d.Z,VMain:p.Z});var h=n(7614),g=n(4865),v=n(9132);s.Z.use(v.Z);var w=new v.Z({icons:{iconfont:"fa"}}),y=n(9669),b=n.n(y);new s.Z;s.Z.config.productionTip=!1,s.Z.prototype.$http=b();const Z=localStorage.getItem("token");Z&&(s.Z.prototype.$http.defaults.headers.common.Authorization=Z),new s.Z({router:h.Z,store:g.Z,vuetify:w,render:t=>t(f)}).$mount("#app")},7614:function(t,e,n){n.d(e,{Z:function(){return q}});var s=n(144),o=n(8345),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Login")},a=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-row",{staticStyle:{height:"100vh"},attrs:{"no-gutters":""}},[s("v-col",[s("v-container",{staticStyle:{height:"100%"}},[s("v-img",{attrs:{src:n(6949),width:100}}),t.showAlert?s("Alert",{attrs:{color:t.color,msg:t.alertMsg}}):t._e(),s("div",{staticClass:"form-section"},[s("h1",[t._v("Welcome Back!")]),s("p",[t._v("Please Log in to your account. Don't have an account?")]),s("div",{staticClass:"main-form"},[s("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.validate.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-text-field",{attrs:{label:"Username","append-icon":"fa-solid fa-user-astronaut",rules:[t.rules.required],required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("v-text-field",{staticClass:"input-group--focused",attrs:{"append-icon":t.show3?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.rules.min],type:t.show3?"text":"password",name:"input-10-2",label:"Password",hint:"At least 4 characters",value:""},on:{"click:append":function(e){t.show3=!t.show3}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("div",{staticClass:"btn-section"},[s("v-btn",{staticClass:"mr-4",staticStyle:{width:"100%"},attrs:{color:"warning",type:"submit"}},[t._v(" Login ")])],1)],1)],1)])],1)],1),s("v-col",[s("v-img",{attrs:{"aspect-ratio":1,width:t.width,src:n(1458)}})],1)],1)},l=[],u=n(629),c=n(450),d={name:"LoginComponent",components:{Alert:c.Z},computed:{...(0,u.Se)(["isLoggedIn"])},data(){return{width:"100%",valid:!0,alertMsg:"",showAlert:!1,checkbox:!1,color:"",username:"",show1:!1,show2:!0,show3:!1,show4:!1,password:"",rules:{required:t=>!!t||"Required.",min:t=>t.length>=4||"Min 8 characters"}}},methods:{...(0,u.nv)(["login"]),validate(){if(this.$refs.form.validate()){let t={username:this.username,password:this.password};this.login(t).then((t=>{200===t.status&&this.$router.push("/dashboard")})).catch((t=>{this.showAlert=!0,this.color="error",this.alertMsg='Invalid Credentials. Click "forgot password" to reset your password',setTimeout((()=>{this.showAlert=!1}),2500)}))}}}},p=d,m=n(1001),f=n(3453),h=n.n(f),g=n(680),v=n(2102),w=n(9846),y=n(6232),b=n(7047),Z=n(2877),k=n(5978),S=(0,m.Z)(p,i,l,!1,null,"618fd2d9",null),_=S.exports;h()(S,{VBtn:g.Z,VCol:v.Z,VContainer:w.Z,VForm:y.Z,VImg:b.Z,VRow:Z.Z,VTextField:k.Z});var A={name:"LoginView",components:{Login:_}},x=A,C=(0,m.Z)(x,r,a,!1,null,null,null),P=C.exports;s.Z.use(o.Z);const E=[{path:"/",name:"login",component:P,meta:{requiresGuest:!0}},{path:"/dashboard",name:"Dashboard",component:()=>n.e(362).then(n.bind(n,1351))}],O=new o.Z({routes:E,linkActiveClass:"currentpage"});var q=O},4865:function(t,e,n){n.d(e,{Z:function(){return E}});var s=n(144),o=n(629),r=n(9669),a=n.n(r),i=n(7614);const l={token:localStorage.getItem("token")||"",user:{},status:""},u={isLoggedIn:t=>!!t.token,user:t=>t.user,authState:t=>t.status},c={async login({commit:t},e){t("auth_request");let n=await a().post("http://localhost:6600/api/users/login",e);if(200===n.status){const e=n.data.token;localStorage.setItem("token",e),a().defaults.headers.common.Authorization=e,t("set_user",n.data.user),t("auth_success",e)}return n},async register({commit:t},e){t("register_request");let n=await a().post("http://localhost:6600/api/users/",e);return 201===n.status&&t("register_success"),n},logout({commit:t}){localStorage.removeItem("token"),t("logout"),delete a().defaults.headers.common.Authorization,i.Z.push("/")}},d={auth_request(t){t.status="loading"},set_user:(t,e)=>t.user=e,auth_success(t,e){t.token=e,t.status="success"},register_request(t){t.status="loading"},register_success(t){t.status="success"},logout(t){t.status="",t.token="",t.user=""}};var p={state:l,getters:u,actions:c,mutations:d};const m={products:[]},f={allProducts:t=>t.products},h={async fetchProducts({commit:t}){const e=await a()("http://localhost:6600/api/products/");t("setProducts",e.data)},async uploadFile({commit:t},e){try{const t=await a().post("http://localhost:6600/api/products/upload",e);return t.data.msg}catch(n){return n}}},g={setProducts:(t,e)=>t.products=e};var v={state:m,getters:f,actions:h,mutations:g};const w={sales:[],pendingsales:[]},y={sales:t=>t.sales,pendingsales:t=>t.pendingsales},b={newSale({commit:t},e){t("addSale",e)},generateOrderNo({commit:t}){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n="0123456789";let s="";for(var o=0;o<2;o++){var r=Math.floor(Math.random()*e.length);s+=e.charAt(r)}for(o=0;o<4;o++){r=Math.floor(Math.random()*n.length);s+=n.charAt(r)}return"#"+s},editSale({commit:t},e){const n=e.sales.find((t=>t.id===e.id));n["quantity"]=e.update,n["total"]=n.quantity*n.price,t("editSales")},Editpending({commit:t},e){t("editPending",e)},addtoPending({commit:t},e){t("changepending",e)},getPending({commit:t}){t("pending")},deleteSale({commit:t},e){const n=e.sales.filter((t=>t.id!==e.id));t("delete",n)},addpending({commit:t},e){t("addPending",e)},removePending({commit:t},e){t("remove",e)},async totalSales(){const t=await a()("http://localhost:6600/api/sales/total"),e=t.data.sales.reduce(((t,e)=>t+parseInt(e.total)),0);return e},async totalExpenses(){const t=await a()("http://localhost:6600/api/expenses/total"),e=t.data.expenses.reduce(((t,e)=>t+e.amount),0);return e},async addDb({commit:t},e){try{const n=await a().post("http://localhost:6600/api/sales/addsale",e);n&&t("reset")}catch(n){console.log(n)}},resetSales({commit:t}){t("reset")},async addExpenseDb({commit:t},e){const n=await a().post("http://localhost:6600/api/expenses/addExpense",e);return n.data.msg}},Z={addSale:(t,e)=>t.sales.push(e),editSales:t=>t.sales,changepending:(t,e)=>{let n=t.pendingsales.find((t=>t.orderNo===e.orderNo));return delete e.orderNo,n.orders.push(e),t.pendingsales},editPending:(t,e)=>{let n=e[0];e.shift();let s=t.pendingsales.find((t=>t.orderNo===n));return s.orders=e,t.pendingsales},pending:t=>t.pendingsales,delete:(t,e)=>t.sales=e,addPending:(t,e)=>t.pendingsales.push(e),remove:(t,e)=>{t.pendingsales=t.pendingsales.filter((t=>t.orderNo!==e))},reset:t=>t.sales=[]};var k={state:w,getters:y,mutations:Z,actions:b};const S={users:[]},_={allUsers:t=>t.users},A={async fetchUsers({commit:t}){const e=await a()("http://localhost:6600/api/users/");t("setUsers",e.data)},async editUser({commit:t},e){console.log(e);const n=await a().put("http://localhost:6600/api/users/",e);console.log(n)},async changePin({commit:t},e){const n=await a().post("http://localhost:6600/api/users/password",e);return n.data},async deleteUser({commit:t},e){console.log(e);const n=await a()["delete"]("http://localhost:6600/api/users/",{data:{_id:e}});console.log(n)}},x={setUsers:(t,e)=>t.users=e};var C={state:S,getters:_,actions:A,mutations:x},P=n(4702);s.Z.use(o.ZP);var E=new o.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{auth:p,products:v,sales:k,users:C},plugins:[(0,P.Z)()]})},450:function(t,e,n){n.d(e,{Z:function(){return p}});var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-alert",{staticStyle:{"margin-top":"20px"},attrs:{shaped:"",type:t.color,dismissible:""}},[t._v(" "+t._s(t.msg)+" ")])},o=[],r={name:"AlertVue",props:{color:String,msg:String}},a=r,i=n(1001),l=n(3453),u=n.n(l),c=n(5098),d=(0,i.Z)(a,s,o,!1,null,null,null),p=d.exports;u()(d,{VAlert:c.Z})},1458:function(t,e,n){t.exports=n.p+"img/login-banner.b0a90930.jpg"},6949:function(t,e,n){t.exports=n.p+"img/logo.4ed91221.png"}},e={};function n(s){var o=e[s];if(void 0!==o)return o.exports;var r=e[s]={exports:{}};return t[s](r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,s,o,r){if(!s){var a=1/0;for(c=0;c<t.length;c++){s=t[c][0],o=t[c][1],r=t[c][2];for(var i=!0,l=0;l<s.length;l++)(!1&r||a>=r)&&Object.keys(n.O).every((function(t){return n.O[t](s[l])}))?s.splice(l--,1):(i=!1,r<a&&(a=r));if(i){t.splice(c--,1);var u=o();void 0!==u&&(e=u)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[s,o,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,s){return n.f[s](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/Dashboard.c923c30e.js"}}(),function(){n.miniCssF=function(t){return"css/Dashboard.fcfeaa19.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="Ipos:";n.l=function(s,o,r,a){if(t[s])t[s].push(o);else{var i,l;if(void 0!==r)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==s||d.getAttribute("data-webpack")==e+r){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",e+r),i.src=s),t[s]=[o];var p=function(e,n){i.onerror=i.onload=null,clearTimeout(m);var o=t[s];if(delete t[s],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(t){return t(n)})),e)return e(n)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var t=function(t,e,n,s){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var r=function(r){if(o.onerror=o.onload=null,"load"===r.type)n();else{var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=i,o.parentNode.removeChild(o),s(l)}};return o.onerror=o.onload=r,o.href=e,document.head.appendChild(o),o},e=function(t,e){for(var n=document.getElementsByTagName("link"),s=0;s<n.length;s++){var o=n[s],r=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(r===t||r===e))return o}var a=document.getElementsByTagName("style");for(s=0;s<a.length;s++){o=a[s],r=o.getAttribute("data-href");if(r===t||r===e)return o}},s=function(s){return new Promise((function(o,r){var a=n.miniCssF(s),i=n.p+a;if(e(a,i))return o();t(s,i,o,r)}))},o={143:0};n.f.miniCss=function(t,e){var n={362:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=s(t).then((function(){o[t]=0}),(function(e){throw delete o[t],e})))}}(),function(){var t={143:0};n.f.j=function(e,s){var o=n.o(t,e)?t[e]:void 0;if(0!==o)if(o)s.push(o[2]);else{var r=new Promise((function(n,s){o=t[e]=[n,s]}));s.push(o[2]=r);var a=n.p+n.u(e),i=new Error,l=function(s){if(n.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var r=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;i.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",i.name="ChunkLoadError",i.type=r,i.request=a,o[1](i)}};n.l(a,l,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,r,a=s[0],i=s[1],l=s[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(l)var c=l(n)}for(e&&e(s);u<a.length;u++)r=a[u],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(c)},s=self["webpackChunkIpos"]=self["webpackChunkIpos"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(4601)}));s=n.O(s)})();
//# sourceMappingURL=app.4c04b82e.js.map